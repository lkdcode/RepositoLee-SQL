# ğŸ¯ ë£¨ì¦ˆ ì¸ë±ìŠ¤ ìŠ¤ìº”

ë£¨ì¦ˆ ì¸ë±ìŠ¤ ìŠ¤ìº”ì´ë€ ë§ ê·¸ëŒ€ë¡œ ëŠìŠ¨í•˜ê²Œ ë˜ëŠ” ë“¬ì„±ë“¬ì„±í•˜ê²Œ ì¸ë±ìŠ¤ë¥¼ ì½ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.  
ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì€ ìƒë°˜ëœ ì˜ë¯¸ì—ì„œ 'íƒ€ì´íŠ¸ ì¸ë±ìŠ¤ ìŠ¤ìº”'ìœ¼ë¡œ ë¶„ë¥˜í•˜ëŠ”ë° ì´ëŠ” êµ¬ê°„ë‚´ì˜ ëª¨ë“  ì¸ë±ìŠ¤ë“¤ì„ ì½ê¸° ë•Œë¬¸ì´ë‹¤.  
ë£¨ì¦ˆ ì¸ë±ìŠ¤ ìŠ¤ìº”ì€ ë ˆì¸ì§€ ìŠ¤ìº”ê³¼ ë¹„ìŠ·í•˜ê²Œ ì‘ë™í•˜ì§€ë§Œ ì¤‘ê°„ì— í•„ìš”í•˜ì§€ ì•Šì€ ì¸ë±ìŠ¤ í‚¤ ê°’ì€ ë¬´ì‹œí•˜ê³  ë„˜ì–´ê°„ë‹¤.  

ì¼ë°˜ì ìœ¼ë¡œ `GROUP BY` ë˜ëŠ” ì§‘í•© í•¨ìˆ˜ ê°€ìš´ë° `MAX()`, `MIN()` í•¨ìˆ˜ì— ëŒ€í•´ ìµœì í™”ë¥¼ í•˜ëŠ” ê²½ìš°ì— ì‚¬ìš©ëœë‹¤.  
ì—­ì‹œ ì •ë ¬ê³¼ ê´€ê³„ ìˆë‹¤. ì¸ë±ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 'ì¢Œì¸¡'ì„ ê¸°ì¤€í•˜ì—¬ ì •ë ¬í•œë‹¤ ê·¸ê²ƒì´ ì¢Œì¸¡ì˜ ë¬¸ìì—´ì´ë“  ì¢Œì¸¡ì˜ ì»¬ëŸ¼ì´ë“  ê°„ì—.  

### âœ… Ready

ëŒ€ìš©ëŸ‰ì˜ ë°ì´í„°ê°€ í•„ìš”í•˜ë¯€ë¡œ ğŸ”— [Repository: test_db](https://github.com/datacharmer/test_db) ë¥¼ ì°¸ê³ í•˜ì—¬ ğŸ”— [0. data](../2.IndexRangeScan/0.data/) ë””ë ‰í† ë¦¬ì— í†µí•´ í•„ìš”í•œ ë°ì´í„°ë§Œ ëª¨ì•„ ë‘ì—ˆìŠµë‹ˆë‹¤. í•˜ë‚˜ì˜ MySQL ì„œë²„ì—ì„œ 2ê°œì˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•˜ê³  í•˜ë‚˜ì˜ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” í…Œì´ë¸”ì„ íŠœë‹í•˜ê³  í•˜ë‚˜ëŠ” í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ë¹„êµí•˜ë©´ì„œ í™•ì¸í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤.  

# ğŸ¯ ëª©í‘œì— ì•ì„œ

ì‚¬ìš©í•  í…Œì´ë¸”ì€ ğŸ”— [employees](./0.data/employees.sql) ì´ë¯€ë¡œ ê°„ëµí•˜ê²Œ í…Œì´ë¸” êµ¬ì¡°ë¥¼ í™•ì¸í•˜ê¸° ë°”ëë‹ˆë‹¤.  

```sql
mysql> DESCRIBE employees;
+------------+---------------+------+-----+---------+-------+
| Field      | Type          | Null | Key | Default | Extra |
+------------+---------------+------+-----+---------+-------+
| emp_no     | int           | NO   | PRI | NULL    |       |
| birth_date | date          | NO   |     | NULL    |       |
| first_name | varchar(14)   | NO   |     | NULL    |       |
| last_name  | varchar(16)   | NO   |     | NULL    |       |
| gender     | enum('M','F') | NO   |     | NULL    |       |
| hire_date  | date          | NO   |     | NULL    |       |
+------------+---------------+------+-----+---------+-------+
6 rows in set (0.04 sec)
```

íŠœë‹í•œ í…Œì´ë¸”ê³¼ íŠœë‹í•˜ì§€ ì•ŠëŠ” í…Œì´ë¸”ì„ ë‘ë©´ ì§ì ‘ ë¹„êµí•˜ê¸° ìˆ˜ì›”í•´ì„œ 2ê°œì˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ë˜‘ê°™ì€ ë°ì´í„°ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤.  

```sql
mysql> CREATE DATABASE normal;
mysql> CREATE DATABASE tuning;
```

`normal` ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸”ë“¤ì€ íŠœë‹í•˜ì§€ ì•Šê³  `tuning` ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸”ë“¤ì€ íŠœë‹í•©ë‹ˆë‹¤.  

# ğŸ¯ ì‹¤í–‰ê³„íš  

ë£¨ì¦ˆ ì¸ë±ìŠ¤ ìŠ¤ìº”ì€ ë§ ê·¸ëŒ€ë¡œ ë„ì—„ë„ì—„ ì½ëŠ” ê²ƒì´ë‹¤. ê·¸ë£¹í•‘, ì§‘í•© í•¨ìˆ˜ ë“±ì„ ìœ„í•´ ì‚¬ìš©ë˜ê³  ì´ë¥¼ ê°€ëŠ¥ì¼€í•˜ëŠ” ê²ƒì€ ì •ë ¬ì´ë‹¤.  
ì¸ë±ìŠ¤ëŠ” í•­ìƒ ì¢Œì¸¡ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ëœë‹¤. `employees.first_name` ì»¬ëŸ¼ê³¼ `employees.hire_date` ì»¬ëŸ¼ë§Œ ë†“ê³  ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì‘ì„±í•´ë³´ì.  
ë‘ ì»¬ëŸ¼ì€ ì •ë ¬ë˜ì–´ ìˆë‹¤. ì–´ë–»ê²Œ ì •ë ¬ë˜ì–´ ìˆëŠ”ê°€?  

ìš°ì„  `first_name` ì»¬ëŸ¼ë¶€í„° ë³´ë©´ ì™¼ìª½ ë¬¸ìì—´ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•œë‹¤.  
ì²« ë²ˆì§¸ ê¸€ì ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•œ í›„ì— ë‘ ë²ˆì§¸ ê¸€ìë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•œë‹¤. ê·¸ ë‹¤ìŒ ì„¸ ë²ˆì§¸ ê¸€ìë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•˜ê³ .. ë§ˆì§€ë§‰ në²ˆì§¸ ê¸€ìê¹Œì§€ ì •ë ¬í•œë‹¤.  
ë§ˆì°¬ê°€ì§€ë¡œ `hire_date` ë„ ì™¼ìª½ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•œë‹¤. ë¨¼ì € ì™¼ìª½ ì»¬ëŸ¼ì¸ `first_name` ì„ ê¸°ì¤€ìœ¼ë¡œ ì¡ë ¬í•œ í›„ì— ë‚ ì§œ íƒ€ì…ì´ë¯€ë¡œ ë…„-ì›”-ì¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•œë‹¤.  

ì •ë ¬ì˜ ê¸°ì¤€ì€ ì™¼ìª½ì´ë‹¤. ê·¸ê²ƒì´ ì²« ë²ˆì§¸ ê°’ì´ë“ , ì™¼ìª½ì˜ ë¶€ëª¨ ì»¬ëŸ¼ì´ë“ .  
ìœ„ì˜ ë°°ê²½ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ ì•„ë˜ì˜ ë°ì´í„°ë¥¼ ë³´ë©´ ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ëëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤.  

```sql
+------------+------------+
| first_name | hire_date  |
+------------+------------+
| Georgi     | 1985-11-21 |
| Georgi     | 1986-06-26 |
| Georgi     | 1989-08-28 |
| Georgi     | 1999-12-01 |
| Kyoichi    | 1981-09-12 |
| Kyoichi    | 1984-06-02 |
| Kyoichi    | 1994-02-10 |
| Saniya     | 1977-09-15 |
| Saniya     | 1981-02-18 |
| Saniya     | 1993-08-24 |
+------------+------------+
```

ì—¬ê¸°ì„œ `first_name` ê¸°ì¤€ìœ¼ë¡œ `hire_date` ì˜ `MIN()`, `MAX()` ì§‘í•¨ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ì–´ë–»ê²Œ ë˜ëŠ”ê°€?  
ëª¨ë“  ë°ì´í„°ë¥¼ ì½ì„ í•„ìš”ê°€ ì—†ë‹¤. ë§¨ ìœ„ì—ëŠ” ìµœì†Œê°’ì´ë©° ë§¨ ì•„ë˜ëŠ” ìµœëŒ“ê°’ì¼ ê²ƒì´ë‹¤(í˜¹ì€ ê·¸ ë°˜ëŒ€).  

- `first_name` ìœ¼ë¡œ ê·¸ë£¹í•‘í•˜ê³  `hire_date` ì˜ ìµœì†Ÿê°’ì„ ì½ìœ¼ë ¤ë©´?

```sql
+------------+------------+
| first_name | hire_date  |
+------------+------------+
| Georgi     | 1985-11-21 | << ì´ ë¶€ë¶„ë§Œ ì½ê³  ìŠ¤í‚µ
| Georgi     | 1986-06-26 |
| Georgi     | 1989-08-28 |
| Georgi     | 1999-12-01 |
| Kyoichi    | 1981-09-12 | << ì´ ë¶€ë¶„ë§Œ ì½ê³  ìŠ¤í‚µ
| Kyoichi    | 1984-06-02 |
| Kyoichi    | 1994-02-10 |
| Saniya     | 1977-09-15 | << ì´ ë¶€ë¶„ë§Œ ì½ê³  ìŠ¤í‚µ
| Saniya     | 1981-02-18 |
| Saniya     | 1993-08-24 |
+------------+------------+
```

`first_name` ì„ ê·¸ë£¹í•‘ í–ˆê¸° ë•Œë¬¸ì— ìµœì†Ÿê°’ì¸ ì²« ë²ˆì§¸ `hire_date` ë§Œ ì½ê³  ê·¸ ë‹¤ìŒ `first_name` ë ˆì½”ë“œë¡œ ë„˜ì–´ê°€ë©´ ëœë‹¤.  
ì´ë ‡ê²Œ ë„ì—„ë„ì—„ ì½ëŠ” ê²ƒì„ ë£¨ì¦ˆ ì¸ë±ìŠ¤ ìŠ¤ìº”ì´ë¼ í•œë‹¤.  

ì‹¤ì œ ì‹¤í–‰ ê³„íšê³¼ ì¸ë±ìŠ¤ê°€ ìˆëŠ” ì¿¼ë¦¬ì™€ ì—†ëŠ” ì¿¼ë¦¬ë¥¼ ë¹„êµí•´ë³´ì.  
í˜„ì¬ `normal.employees` ì™€ `tuning.employees` ëŠ” `PRIMARY KEY` ë¡œ ìƒì„±ëœ ì¸ë±ìŠ¤ë§Œ ìˆì„ ë¿ ë‹¤ë¥¸ ì¸ë±ìŠ¤ëŠ” ì—†ë‹¤.  

```sql
# normal, tuning

mysql> SHOW INDEX FROM employees;
+-----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
| Table     | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression |
+-----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
| employees |          0 | PRIMARY  |            1 | emp_no      | A         |      299512 |     NULL |   NULL |      | BTREE      |         |               | YES     | NULL       |
+-----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+
1 row in set (0.01 sec)
```

ë£¨ì¦ˆ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ì ìš©í•´ë³´ê¸° ìœ„í•´ ë§Œë“¤ ì¿¼ë¦¬ëŠ” `employees.first_name` ì„ ê·¸ë£¹í•‘í•˜ê³  `hire_date` ì˜ ìµœëŒ“ê°’ê³¼ ìµœì†Ÿê°’ì„ êµ¬í•˜ëŠ” ì¿¼ë¦¬ì´ë‹¤.  
ì•„ë˜ì™€ ê°™ì´ ì¿¼ë¦¬ë¬¸ì„ ì‘ì„±í•˜ê³  ì‹¤í–‰ê³„íšì„ ì‚´í´ë³´ì

```sql
# normal.employees

mysql> USE normal;

mysql> EXPLAIN SELECT first_name, MIN(hire_date), MAX(hire_date) FROM employees GROUP BY first_name;
+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-----------------+
| id | select_type | table     | partitions | type | possible_keys | key  | key_len | ref  | rows   | filtered | Extra           |
+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-----------------+
|  1 | SIMPLE      | employees | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 299069 |   100.00 | Using temporary |
+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-----------------+
1 row in set, 1 warning (0.00 sec)
```

`type=ALL` ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ í…Œì´ë¸” í’€ ìŠ¤ìº”ìœ¼ë¡œ ì‹¤í–‰ ê³„íšì´ ìˆ˜ë¦½ë˜ê³  `Extra=Using temporary` ë¥¼ ë³´ë©´ `ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”`ì„ ìƒì„±í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.  
ì—¬ê¸°ì„œ ë§í•˜ëŠ” `ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”`ì€  `CREATE TEMPORARY TABLE` ëª…ë ¹ì–´ë¡œ ë§Œë“  ì„ì‹œ í…Œì´ë¸”ê³¼ ë‹¤ë¥¸ í…Œì´ë¸”ë¡œ MySQL ì—”ì§„ì´ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ë¡œ  
ì²˜ìŒì—ëŠ” ë©”ëª¨ë¦¬ì— ìƒì„±ëë‹¤ê°€ í…Œì´ë¸”ì˜ í¬ê¸°ê°€ ê±°ì§€ë©´ ë””ìŠ¤í¬ë¡œ ì˜®ê²¨ì§„ë‹¤(íŠ¹ì • ì¼€ì´ìŠ¤ì— ëŒ€í•´ì„œëŠ” ë°”ë¡œ ë””ìŠ¤í¬ë¡œ ìƒì„±ë  ìˆ˜ ìˆìŒ).  
ìš°ë¦¬ê°€ ì ‘ê·¼í•  ìˆ˜ë„ í™œìš©í•  ìˆ˜ë„ ì—†ëŠ” ì´ í…Œì´ë¸”ì€ MySQL ì—”ì§„ì´ ë‚´ë¶€ì ì¸ ê°€ê³µì„ ìœ„í•´ ìƒì„±í•œë‹¤.  
ë‹¤ë¥¸ ì„¸ì…˜, ë‹¤ë¥¸ ì¿¼ë¦¬ì—ì„œë„ ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤. ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©ë˜ë¯€ë¡œ ê³µê°„ì´ í•„ìš”í•˜ë©° ì´ ì—­ì‹œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒë³´ë‹¤ëŠ” ë¹„ìš©ì„ ì¹˜ë¤„ì•¼ í•œë‹¤.  

ì •ë¦¬í•˜ìë©´ í˜„ì¬ ì¸ë±ìŠ¤ê°€ ì—†ê¸°ì— í…Œì´ë¸” í’€ ìŠ¤ìº”ê³¼ ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì—¬ ë³´ë‹¤ ë¹„íš¨ìœ¨ì ì¸ ê²°ê³¼ë¥¼ ì–»ëŠ” ê²ƒì„ ëœ»í•œë‹¤.  
ì´ì œ ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•˜ê³  ì‹¤í–‰ê³„íšì„ ë‹¤ì‹œ ì‚´í´ë³´ì.  

- ì¸ë±ìŠ¤ ì¶”ê°€

```sql
# tuning.employees

mysql> USE tuning;

mysql> CREATE INDEX ix_loose ON employees(first_name, hire_date);
Query OK, 0 rows affected (0.46 sec)
Records: 0  Duplicates: 0  Warnings: 0
```

- ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œ ì‹¤í–‰ê³„íš

```sql
mysql> EXPLAIN SELECT first_name, MIN(hire_date), MAX(hire_date) FROM employees GROUP BY first_name;
+----+-------------+-----------+------------+-------+---------------+----------+---------+------+------+----------+--------------------------+
| id | select_type | table     | partitions | type  | possible_keys | key      | key_len | ref  | rows | filtered | Extra                    |
+----+-------------+-----------+------------+-------+---------------+----------+---------+------+------+----------+--------------------------+
|  1 | SIMPLE      | employees | NULL       | range | ix_loose      | ix_loose | 58      | NULL | 1260 |   100.00 | Using index for group-by |
+----+-------------+-----------+------------+-------+---------------+----------+---------+------+------+----------+--------------------------+
1 row in set, 1 warning (0.01 sec)
```


ê¸°ì¡´ì˜ í…Œì´ë¸” í’€ ìŠ¤ìº”ì´ ì•„ë‹Œ `type=range` ë¡œ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì²˜ëŸ¼ íŠ¹ì • ë²”ìœ„ì— ëŒ€í•œ ìŠ¤ìº”ì„ ì˜ë¯¸í•˜ê³ ,  
`Extra=Using index for group-by` ë¥¼ í†µí•´ ì‹¤ì œ ë£¨ì¦ˆ ì¸ë±ìŠ¤ ìŠ¤ìº”ì´ ì ìš©ëìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.  
ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ì‹¤ì œë¡œëŠ” ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤. ì´ëŠ” ì‹¤í–‰ê³„íšì— ë³´ì—¬ì§€ì§„ ì•ŠëŠ”ë‹¤.  


ì¸ë±ìŠ¤ ìœ ë¬´ê°€ ë˜‘ê°™ì€ ì¿¼ë¦¬ì— ëŒ€í•´ ì‹¤í–‰ ê³„íšì´ ì–´ë–»ê²Œ ë‹¬ë¼ì§€ëŠ”ê°€ í™•ì¸í•´ë³´ì.  

```sql
# normal.employees

mysql> EXPLAIN SELECT first_name, MIN(hire_date), MAX(hire_date) FROM employees GROUP BY first_name;
+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-----------------+
| id | select_type | table     | partitions | type | possible_keys | key  | key_len | ref  | rows   | filtered | Extra           |
+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-----------------+
|  1 | SIMPLE      | employees | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 299069 |   100.00 | Using temporary |
+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-----------------+
1 row in set, 1 warning (0.00 sec)
```

```sql
# tuning.employees

mysql> EXPLAIN SELECT first_name, MIN(hire_date), MAX(hire_date) FROM employees GROUP BY first_name;
+----+-------------+-----------+------------+-------+---------------+----------+---------+------+------+----------+--------------------------+
| id | select_type | table     | partitions | type  | possible_keys | key      | key_len | ref  | rows | filtered | Extra                    |
+----+-------------+-----------+------------+-------+---------------+----------+---------+------+------+----------+--------------------------+
|  1 | SIMPLE      | employees | NULL       | range | ix_loose      | ix_loose | 58      | NULL | 1260 |   100.00 | Using index for group-by |
+----+-------------+-----------+------------+-------+---------------+----------+---------+------+------+----------+--------------------------+
1 row in set, 1 warning (0.01 sec)
```

ì‹¤ì œ ì²˜ë¦¬ ì†ë„ëŠ” ì–´ë–¨ê¹Œ?  

```sql
# normal.employees

mysql> SELECT first_name, MIN(hire_date), MAX(hire_date) FROM employees GROUP BY first_name;
...
| Khaled         | 1985-02-10     | 1999-06-27     |
| Ravishankar    | 1985-02-16     | 1999-01-22     |
+----------------+----------------+----------------+
1275 rows in set (0.12 sec)
```

```sql
# tuning.employees

mysql> SELECT first_name, MIN(hire_date), MAX(hire_date) FROM employees GROUP BY first_name;
...
| Zsolt          | 1985-02-10     | 1999-02-26     |
| Zvonko         | 1985-02-25     | 1999-02-24     |
+----------------+----------------+----------------+
1275 rows in set (0.01 sec)
```

ìœ„ì˜ ê²°ê³¼ë¥¼ í†µí•´ ë£¨ì¦ˆ ì¸ë±ìŠ¤ ìŠ¤ìº”ê³¼ í…Œì´ë¸” í’€ ìŠ¤ìº”ì˜ ì‹œê°„ ì°¨ì´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ìœ„ì˜ ê²°ê³¼ë¥¼ ì–»ê¸° ìœ„í•´ MySQL ì—”ì§„ì´ `ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”` ì„ ì‚¬ìš©í–ˆëŠ”ì§€ë„ í™•ì¸í•´ ë³´ì.  

ì¤‘ìš”í•œê±´ `ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”` ì´ ë””ìŠ¤í¬ì—ê¹Œì§€ ì“°ì˜€ëƒ í•˜ëŠ” ë¬¸ì œì¸ë°, ë©”ëª¨ë¦¬ì— ì˜¬ë¼ê°€ëŠ” ê±´ ë””ìŠ¤í¬ I/O ë¥¼ ì¤„ì—¬ ì„±ëŠ¥ì— í° ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.  
ë¬¼ë¡  ê°€ë³€ ê¸¸ì´ì— ëŒ€í•œ ë©”ëª¨ë¦¬ í• ë‹¹ì´ë‚˜ íŠ¸ëœì­ì…˜ ì§€ì›, ê´€ë ¨ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •, ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë“±ì„ í™•ì¸í•´ì•¼ í•œë‹¤.  

`ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”` ì‚¬ìš© ì—¬ë¶€ ë° íšŸìˆ˜ë¥¼ í™•ì¸í•´ ë³´ì.  

`SHOW STATUS LIKE 'Created_tmp%';` í•´ë‹¹ ëª…ë ¹ì–´ë¥¼ í†µí•´ `ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”`ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.  
`Created_tmp_disk_tables` ì»¬ëŸ¼ì€ ë””ìŠ¤í¬ì— ìƒì„±ëœ `ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”`ì´ë©°,  
`Created_tmp_tables` ì»¬ëŸ¼ì€ ë©”ëª¨ë¦¬ì— ìƒì„±ëœ `ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”`ì´ë‹¤.  

```sql
# normal.employees

# í˜„ì¬ ì„ì‹œ í…Œì´ë¸”ì„ í™•ì¸í•œë‹¤.
mysql> SHOW STATUS LIKE 'Created_tmp%';
+-------------------------+-------+
| Variable_name           | Value |
+-------------------------+-------+
| Created_tmp_disk_tables | 0     |
| Created_tmp_files       | 93    |
| Created_tmp_tables      | 0     |
+-------------------------+-------+
3 rows in set (0.02 sec)

# ì¿¼ë¦¬ ìˆ˜í–‰
mysql> SELECT first_name, MIN(hire_date), MAX(hire_date) FROM employees GROUP BY first_name;
...
| Khaled         | 1985-02-10     | 1999-06-27     |
| Ravishankar    | 1985-02-16     | 1999-01-22     |
+----------------+----------------+----------------+
1275 rows in set (0.14 sec)

# ì¿¼ë¦¬ ìˆ˜í–‰ í›„ í˜„ì¬ ì„ì‹œ í…Œì´ë¸”ì„ í™•ì¸í•œë‹¤.
mysql> SHOW STATUS LIKE 'Created_tmp%';
+-------------------------+-------+
| Variable_name           | Value |
+-------------------------+-------+
| Created_tmp_disk_tables | 0     |
| Created_tmp_files       | 93    |
| Created_tmp_tables      | 1     |  << 1 ì´ ì¦ê°€í•¨.
+-------------------------+-------+
3 rows in set (0.01 sec)

# ... ì—¬ëŸ¬ë²ˆì˜ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œ í›„
mysql> SHOW STATUS LIKE 'Created_tmp%';
+-------------------------+-------+
| Variable_name           | Value |
+-------------------------+-------+
| Created_tmp_disk_tables | 0     |
| Created_tmp_files       | 93    |
| Created_tmp_tables      | 4     |  << ì¶”ê°€ ì¿¼ë¦¬ ì‹¤í–‰ íšŸìˆ˜ë§Œí¼ ì¦ê°€í•¨.
+-------------------------+-------+
3 rows in set (0.00 sec)
```

`normal.employees` ëŠ” ìœ„ì˜ ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ë§Œì¡±í•˜ê¸° ìœ„í•´ì„  í…Œì´ë¸” í’€ ìŠ¤ìº”ì„ í•˜ë¯€ë¡œ `ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”`ì„ ìƒì„±í•˜ê²Œ ëœë‹¤.  
ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ `ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”` ì´ ì¦ê°€í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.  

ì´ì œ ì¸ë±ìŠ¤ê°€ ì„¤ì •ë˜ì–´ ìˆëŠ” `tuning.employees` ì¿¼ë¦¬ì˜ ê²°ê³¼ë¥¼ í™•ì¸í•´ë³´ì.  

```sql
# tuning.employees

# í˜„ì¬ ì„ì‹œ í…Œì´ë¸”ì„ í™•ì¸í•œë‹¤.
mysql> SHOW STATUS LIKE 'Created_tmp%';
+-------------------------+-------+
| Variable_name           | Value |
+-------------------------+-------+
| Created_tmp_disk_tables | 0     |
| Created_tmp_files       | 93    |
| Created_tmp_tables      | 0     |
+-------------------------+-------+
3 rows in set (0.02 sec)

# ì¿¼ë¦¬ ìˆ˜í–‰
mysql> SELECT first_name, MIN(hire_date), MAX(hire_date) FROM employees GROUP BY first_name;
...
| Zsolt          | 1985-02-10     | 1999-02-26     |
| Zvonko         | 1985-02-25     | 1999-02-24     |
+----------------+----------------+----------------+
1275 rows in set (0.02 sec)

# ì¿¼ë¦¬ ìˆ˜í–‰ í›„ í˜„ì¬ ì„ì‹œ í…Œì´ë¸”ì„ í™•ì¸í•œë‹¤.
mysql> SHOW STATUS LIKE 'Created_tmp%';
+-------------------------+-------+
| Variable_name           | Value |
+-------------------------+-------+
| Created_tmp_disk_tables | 0     |
| Created_tmp_files       | 93    |
| Created_tmp_tables      | 0     |  << ì¦ê°€í•˜ì§€ ì•ŠìŒ.
+-------------------------+-------+
3 rows in set (0.00 sec)


# ... ì—¬ëŸ¬ë²ˆì˜ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œ í›„
mysql> SHOW STATUS LIKE 'Created_tmp%';
+-------------------------+-------+
| Variable_name           | Value |
+-------------------------+-------+
| Created_tmp_disk_tables | 0     |
| Created_tmp_files       | 93    |
| Created_tmp_tables      | 0     |  << ì¦ê°€í•˜ì§€ ì•ŠìŒ.
+-------------------------+-------+
3 rows in set (0.00 sec)
```

ìœ„ì˜ ê²°ê³¼ë¥¼ í†µí•´ `ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”` ì€ ì‚¬ìš©ë˜ì§€ ì•ŠìŒì„ ì•Œ ìˆ˜ ìˆë‹¤. ì´ì²˜ëŸ¼ ë£¨ì¦ˆ ì¸ë±ìŠ¤ ìŠ¤ìº”ì€ ê·¸ë£¹í•‘, ì§‘í•© í•¨ìˆ˜ ë“± íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.  

ì°¸ê³ ë¡œ `ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”` ì€ ì„¸ì…˜ ë‹¨ìœ„ë¡œ ê´€ë¦¬ë˜ë¯€ë¡œ í˜„ì¬ ì„œë²„ë¥¼ ì¢…ë£Œí•˜ê±°ë‚˜ ì„¸ì…˜ì„ ì¢…ë£Œí•˜ë©´ ëœë‹¤.  

```sql
mysql > exit;

# ì¬ì ‘ì† í›„
mysql> SHOW STATUS LIKE 'Created_tmp%';
+-------------------------+-------+
| Variable_name           | Value |
+-------------------------+-------+
| Created_tmp_disk_tables | 0     |
| Created_tmp_files       | 93    |
| Created_tmp_tables      | 0     |  << ì´ˆê¸°í™” ë¨.
+-------------------------+-------+
3 rows in set (0.00 sec)
```